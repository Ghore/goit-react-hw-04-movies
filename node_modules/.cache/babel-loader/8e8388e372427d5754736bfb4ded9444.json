{"ast":null,"code":"var _jsxFileName = \"D:\\\\GO\\\\goit-react-hw-04-movies\\\\src\\\\pages\\\\MovieDetailsPage.js\";\nimport React, { Component } from \"react\";\nimport { Route, Link, Switch } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport axios from \"axios\";\nimport Cast from \"../pages/Cast\";\nimport Reviews from \"../pages/Reviews\";\n\nclass MovieDetailsPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movie: null,\n      info: null\n    };\n\n    this.getMovie = async () => {\n      const id = this.props.match.params.movieId;\n      console.log(getMovie);\n\n      try {\n        const movie = await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=fbcc5b88360cd16683538596837c22ac&language=en-US`);\n        this.setState({\n          movie: movie.data\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.goBack = () => {\n      this.props.history.push(\"/\", this.state.info);\n    };\n  }\n\n  componentDidMount() {\n    this.getMovie();\n    this.setState({\n      info: this.props.location.state\n    });\n  }\n\n  render() {\n    console.log(\"props MovieDetailsPage\", this.props);\n    const parsed = queryString.parse(this.props.location.search);\n    console.log(\"parsed\", parsed);\n    const {\n      movie\n    } = this.state;\n    console.log(movie);\n    return movie && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }, \"MovieDetailsPage\"), \";\", /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"film\",\n      src: `https://image.tmdb.org/t/p/w300_and_h450_bestv2${movie.poster_path}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/movies/${this.props.match.params.movieId}/cast`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, \"Cast\"), this.state.info ? /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `${this.state.info.from}`,\n        state: {\n          qwery: this.state.info.qwery\n        },\n        search: this.state.info.qwery ? `?qwery=${this.state.info.qwery}` : \"\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, \"Go back link\") : /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: \"/\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, \"Go back link\"), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: `/movies/:movieId/cast`,\n      component: Cast,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default MovieDetailsPage;","map":{"version":3,"sources":["D:/GO/goit-react-hw-04-movies/src/pages/MovieDetailsPage.js"],"names":["React","Component","Route","Link","Switch","queryString","axios","Cast","Reviews","MovieDetailsPage","state","movie","info","getMovie","id","props","match","params","movieId","console","log","get","setState","data","e","goBack","history","push","componentDidMount","location","render","parsed","parse","search","poster_path","pathname","from","qwery"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Route, Link, Switch } from \"react-router-dom\";\r\nimport queryString from \"query-string\";\r\nimport axios from \"axios\";\r\nimport Cast from \"../pages/Cast\";\r\nimport Reviews from \"../pages/Reviews\";\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = {\r\n    movie: null,\r\n    info: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getMovie();\r\n    this.setState({ info: this.props.location.state });\r\n  }\r\n\r\n  getMovie = async () => {\r\n    const id = this.props.match.params.movieId;\r\nconsole.log(getMovie)\r\n    try {\r\n      const movie = await axios.get(\r\n        `https://api.themoviedb.org/3/movie/${id}?api_key=fbcc5b88360cd16683538596837c22ac&language=en-US`\r\n      );\r\n\r\n      this.setState({\r\n        movie: movie.data,\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  goBack = () => {\r\n    this.props.history.push(\"/\", this.state.info);\r\n  };\r\n\r\n  render() {\r\n    console.log(\"props MovieDetailsPage\", this.props);\r\n    const parsed = queryString.parse(this.props.location.search);\r\n    console.log(\"parsed\", parsed);\r\n\r\n    const { movie } = this.state;\r\n    console.log(movie)\r\n    return (\r\n      movie && (\r\n        <div>\r\n          <h2>MovieDetailsPage</h2>;\r\n          <img\r\n            alt=\"film\"\r\n            src={`https://image.tmdb.org/t/p/w300_and_h450_bestv2${movie.poster_path}`}\r\n          />\r\n          <Link\r\n            to={{\r\n              pathname: `/movies/${this.props.match.params.movieId}/cast`,\r\n            }}\r\n          >\r\n            Cast\r\n          </Link>\r\n          {this.state.info ? (\r\n            <Link\r\n              to={{\r\n                pathname: `${this.state.info.from}`,\r\n                state: {\r\n                  qwery: this.state.info.qwery,\r\n                },\r\n                search: this.state.info.qwery\r\n                  ? `?qwery=${this.state.info.qwery}`\r\n                  : \"\",\r\n              }}\r\n            >\r\n              Go back link\r\n            </Link>\r\n          ) : (\r\n            <Link\r\n              to={{\r\n                pathname: \"/\",\r\n              }}\r\n            >\r\n              Go back link\r\n            </Link>\r\n          )}\r\n          <Switch>\r\n            <Route exact path={`/movies/:movieId/cast`} component={Cast} />\r\n          </Switch>\r\n        </div>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n"]},"metadata":{},"sourceType":"module"}