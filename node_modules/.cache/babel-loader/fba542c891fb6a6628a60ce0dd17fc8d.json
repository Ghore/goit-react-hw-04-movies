{"ast":null,"code":"var _jsxFileName = \"D:\\\\GO\\\\goit-react-hw-04-movies\\\\src\\\\pages\\\\MoviesPage.js\";\nimport React, { Component } from \"react\";\nimport { getForQuery } from \"../services/MovieApi\";\nimport { Link } from \"react-router-dom\";\nimport queryString from \"query-string\";\nexport default class MoviesPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: \"\",\n      films: []\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        query: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.getForQuery(this.state.query);\n      this.props.history.push({\n        pathname: this.props.location.pathname,\n        search: `query=${this.state.query}`\n      });\n    };\n\n    this.getForQuery = query => {\n      getForQuery(query).then(data => this.setState({\n        films: data.data.results,\n        query\n      }));\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.location.search) {\n      const getQueryFromLocation = queryString.parse(this.props.location.search).query;\n      this.getForQuery(getQueryFromLocation);\n    }\n  }\n\n  render() {\n    console.log(this.props);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.query,\n      onChange: this.handleChange,\n      type: \"text\",\n      placeholder: \"Search movie\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, \"Search\"))), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, this.state.films.length > 0 && this.state.films.map(film => film.title !== \"UNdefined\" && /*#__PURE__*/React.createElement(\"li\", {\n      key: film.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/movies/${film.id}`,\n        state: {\n          from: this.props.location.pathname,\n          query: this.state.query\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, film.title)))));\n  }\n\n}","map":{"version":3,"sources":["D:/GO/goit-react-hw-04-movies/src/pages/MoviesPage.js"],"names":["React","Component","getForQuery","Link","queryString","MoviesPage","state","query","films","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","history","push","pathname","location","search","then","data","results","componentDidMount","getQueryFromLocation","parse","render","console","log","length","map","film","title","id","from"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {   getForQuery } from \"../services/MovieApi\";\r\nimport { Link } from \"react-router-dom\";\r\nimport queryString from \"query-string\";\r\n\r\nexport default class MoviesPage extends Component {\r\n  state = {\r\n    query: \"\",\r\n    films: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.location.search) {\r\n      const getQueryFromLocation = queryString.parse(this.props.location.search)\r\n        .query;\r\n      this.  getForQuery(getQueryFromLocation);\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.  getForQuery(this.state.query);\r\n    this.props.history.push({\r\n      pathname: this.props.location.pathname,\r\n      search: `query=${this.state.query}`,\r\n    });\r\n  };\r\n\r\n  getForQuery = (query) => {\r\n   getForQuery(query).then((data) =>\r\n      this.setState({\r\n        films: data.data.results,\r\n        query,\r\n      })\r\n    );\r\n  };\r\n\r\n  render() {\r\n    console.log(this.props);\r\n    return (\r\n      <>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <input\r\n            value={this.query}\r\n            onChange={this.handleChange}\r\n            type=\"text\"\r\n            placeholder=\"Search movie\"\r\n          />\r\n          <button type=\"submit\">\r\n            <span>Search</span>\r\n          </button>\r\n        </form>\r\n        <ul>\r\n          {this.state.films.length > 0 &&\r\n            this.state.films.map(\r\n              (film) =>\r\n                film.title !== \"UNdefined\" && (\r\n                  <li key={film.id}>\r\n                    <Link\r\n                      to={{\r\n                        pathname: `/movies/${film.id}`,\r\n                        state: {\r\n                          from: this.props.location.pathname,\r\n                          query: this.state.query,\r\n                        },\r\n                      }}\r\n                    >\r\n                      {film.title}\r\n                    </Link>\r\n                  </li>\r\n                )\r\n            )}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}